{% extends 'my_app/base.html' %}

{% block title %}Habitats - Animal Tracker{% endblock %}

{% block content %}
<div class="welcome-section">
  <h1><i class="fas fa-tree"></i> Habitats</h1>
  <p>Manage different habitat environments</p>
</div>

<section class="card-container">
  {% if habitats %}
    {% for habitat in habitats %}
      <div class="card">
        <a href="{% url 'habitat_detail' habitat.pk %}">
          <div class="card-content">
            <h2 class="card-title"><i class="fas fa-tree"></i> {{ habitat.name }}</h2>
            {% if habitat.description %}
              <p>{{ habitat.description|truncatewords:15 }}</p>
            {% endif %}
            <p><strong>Animals:</strong> {{ habitat.animals.count }}</p>
          </div>
        </a>
        <div class="btn-group" style="margin-top: 1rem; justify-content: center;">
          <a href="{% url 'habitat_update' habitat.pk %}" class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
            <i class="fas fa-edit"></i> Edit
          </a>
          <a href="{% url 'habitat_delete' habitat.pk %}" class="btn btn-danger" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
            <i class="fas fa-trash"></i> Delete
          </a>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="card" style="text-align: center; grid-column: 1 / -1;">
      <h2><i class="fas fa-tree"></i> No Habitats Yet</h2>
      <p>Start by creating different habitat environments!</p>
    </div>
  {% endif %}
</section>

<div class="create-animal-btn">
  <a href="{% url 'habitat_create' %}" class="btn">
    <i class="fas fa-plus"></i> Add New Habitat
  </a>
</div>
{% endblock %}
